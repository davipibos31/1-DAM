+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table   | Create Table                                                                                                                                                                                                              |
+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| agencia | CREATE TABLE `agencia` (
  `cod_agencia` int NOT NULL,
  `direccion` varchar(50) DEFAULT NULL,
  `cif` int DEFAULT NULL,
  PRIMARY KEY (`cod_agencia`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+---------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+





+----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table    | Create Table                                                                                                                                                                                                                                                                                                                                                     |
+----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| alquiler | CREATE TABLE `alquiler` (
  `cod_alquiler` int NOT NULL,
  `fecha_firma` date DEFAULT NULL,
  `fianza` int DEFAULT NULL,
  `fecha_inicio` date DEFAULT NULL,
  `fecha_fin` date DEFAULT NULL,
  `importe_mes` decimal(10,2) DEFAULT NULL,
  `nif` int DEFAULT NULL,
  `cod_vivienda` int DEFAULT NULL,
  `alq_nuevo` int DEFAULT NULL,
  PRIMARY KEY (`cod_alquiler`),
  KEY `nif` (`nif`),
  KEY `cod_vivienda` (`cod_vivienda`),
  KEY `alq_nuevo` (`alq_nuevo`),
  CONSTRAINT `alquiler_ibfk_1` FOREIGN KEY (`nif`) REFERENCES `inquilino` (`nif`),
  CONSTRAINT `alquiler_ibfk_2` FOREIGN KEY (`cod_vivienda`) REFERENCES `vivienda` (`cod_vivienda`),
  CONSTRAINT `alquiler_ibfk_3` FOREIGN KEY (`alq_nuevo`) REFERENCES `alquiler` (`cod_alquiler`),
  CONSTRAINT `alquiler_chk_1` CHECK ((`fecha_fin` > `fecha_inicio`))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+----------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+




+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table     | Create Table                                                                                                                                                                                                                                                                                                                           |
+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| inquilino | CREATE TABLE `inquilino` (
  `nif` int NOT NULL,
  `nombre` varchar(50) DEFAULT NULL,
  `apellido` varchar(50) DEFAULT NULL,
  `telefono` char(13) DEFAULT NULL,
  `preferencias` varchar(100) DEFAULT NULL,
  `fecha_nac` date DEFAULT NULL,
  PRIMARY KEY (`nif`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+






+-------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table       | Create Table                                                                                                                                                                                                                                                                                                            |
+-------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| propietario | CREATE TABLE `propietario` (
  `nif` int NOT NULL,
  `nombre` varchar(50) DEFAULT NULL,
  `apellido` varchar(50) DEFAULT NULL,
  `telefono` char(13) DEFAULT NULL,
  `direccion` varchar(50) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`nif`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+








+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table    | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| vivienda | CREATE TABLE `vivienda` (
  `cod_vivienda` int NOT NULL,
  `calle` varchar(50) DEFAULT NULL,
  `numero` smallint DEFAULT NULL,
  `piso` smallint DEFAULT NULL,
  `cp` int DEFAULT NULL,
  `población` varchar(50) DEFAULT NULL,
  `descipcion` varchar(50) DEFAULT NULL,
  `nif` int DEFAULT NULL,
  `cod_agencia` int DEFAULT NULL,
  PRIMARY KEY (`cod_vivienda`),
  KEY `cod_agencia` (`cod_agencia`),
  KEY `nif` (`nif`),
  CONSTRAINT `vivienda_ibfk_1` FOREIGN KEY (`cod_agencia`) REFERENCES `agencia` (`cod_agencia`),
  CONSTRAINT `vivienda_ibfk_2` FOREIGN KEY (`nif`) REFERENCES `propietario` (`nif`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table    | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| articulo | CREATE TABLE `articulo` (
  `codigo` varchar(50) NOT NULL,
  `descripcion` varchar(50) DEFAULT NULL,
  `precio` decimal(10,0) DEFAULT NULL,
  `dto` int DEFAULT NULL,
  `stock` int DEFAULT NULL,
  `stock_min` int DEFAULT NULL,
  PRIMARY KEY (`codigo`),
  CONSTRAINT `dto_check` CHECK (((`dto` >= 0) and (`dto` <= 80))),
  CONSTRAINT `stock_check` CHECK ((`stock` >= `stock_min`))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+






+---------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table   | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+---------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| cliente | CREATE TABLE `cliente` (
  `codigo` varchar(50) NOT NULL,
  `nombre` varchar(45) DEFAULT NULL,
  `direccion` varchar(50) DEFAULT NULL,
  `cp` int DEFAULT NULL,
  `municipio` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`codigo`),
  KEY `municipio` (`municipio`),
  CONSTRAINT `cliente_ibfk_1` FOREIGN KEY (`municipio`) REFERENCES `municipio` (`codigo`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+---------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+







+-----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table     | Create Table                                                                                                                                                                                                                                                                                                                                                                                           |
+-----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| municipio | CREATE TABLE `municipio` (
  `codigo` varchar(50) NOT NULL,
  `nombre` varchar(50) DEFAULT NULL,
  `provincia` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`codigo`),
  KEY `provincia` (`provincia`),
  CONSTRAINT `municipio_ibfk_1` FOREIGN KEY (`provincia`) REFERENCES `provincia` (`codigo`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+





+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table     | Create Table                                                                                                                                                                                 |
+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| provincia | CREATE TABLE `provincia` (
  `codigo` varchar(50) NOT NULL,
  `nombre` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`codigo`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-----------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+





+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table    | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| vendedor | CREATE TABLE `vendedor` (
  `codigo` varchar(50) NOT NULL,
  `nombre` varchar(45) DEFAULT NULL,
  `direccion` varchar(50) DEFAULT NULL,
  `cp` int DEFAULT NULL,
  `municipio` varchar(50) DEFAULT NULL,
  `jefe` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`codigo`),
  KEY `municipio` (`municipio`),
  KEY `jefe` (`jefe`),
  CONSTRAINT `vendedor_ibfk_1` FOREIGN KEY (`municipio`) REFERENCES `municipio` (`codigo`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `vendedor_ibfk_2` FOREIGN KEY (`jefe`) REFERENCES `vendedor` (`codigo`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+






+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table        | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| linea_ticket | CREATE TABLE `linea_ticket` (
  `ticket` int NOT NULL,
  `nlinea` int NOT NULL,
  `cant` int DEFAULT NULL,
  `precio` decimal(10,0) DEFAULT NULL,
  `dto` int DEFAULT NULL,
  `articulo` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`ticket`,`nlinea`),
  KEY `articulo` (`articulo`),
  CONSTRAINT `linea_ticket_ibfk_1` FOREIGN KEY (`ticket`) REFERENCES `ticket` (`codigo`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `linea_ticket_ibfk_2` FOREIGN KEY (`articulo`) REFERENCES `articulo` (`codigo`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `linea_ticket_chk_1` CHECK (((`dto` >= 0) and (`dto` <= 80)))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+--------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+







+--------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table  | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ticket | CREATE TABLE `ticket` (
  `codigo` int NOT NULL,
  `fecha` date DEFAULT NULL,
  `iva` varchar(10) DEFAULT NULL,
  `dto` int DEFAULT NULL,
  `cliente` varchar(50) DEFAULT NULL,
  `vendedor` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`codigo`),
  KEY `cliente` (`cliente`),
  KEY `vendedor` (`vendedor`),
  CONSTRAINT `ticket_ibfk_1` FOREIGN KEY (`cliente`) REFERENCES `cliente` (`codigo`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `ticket_ibfk_2` FOREIGN KEY (`vendedor`) REFERENCES `vendedor` (`codigo`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `ticket_chk_1` CHECK (((`dto` >= 0) and (`dto` <= 80)))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+--------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+







